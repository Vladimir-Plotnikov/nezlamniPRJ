{"mappings":"oeAAAA,EAAA,SCAA,IAAAC,EAAAD,EAAA,SCAAE,EAAAF,EAAA,S,aAGOG,eAAeC,EAAaC,GAC/B,MAAMC,EAAS,IAAIC,gBAAgB,CAAEC,QAASC,EAAAC,UACxCC,QAAiBC,MAAM,GAAGV,EAAAW,kBAAkBR,KAASC,KAE3D,aADyBK,EAASG,M,kBCNtCb,EAAAD,EAAA,SACA,MAAMe,cAAEC,IAAkB,EAAAf,EAAAgB,WAEnB,SAASC,GAAgBC,OAC9BA,EAAMC,eACNA,EAAcC,SACdA,EAAQC,WACRA,EAAUC,YACVA,EAAWC,MACXA,EAAKC,aACLA,EAAYC,WACZA,EAAUC,GACVA,IAEA,MAAMC,EAAS,mHAE0DL,uHAElCH,gDACDD,EAC7BU,KAAIC,GAASA,EAAMC,OACnBC,KAAK,mCAIdhB,EAAciB,mBAAmB,aAAcL,E,CCrBjD,IAAIM,EAAgB,GAChBC,EAAc,GACdC,EAAa,GAuBV,SAASC,KACV,EAAAC,EAAAC,QAAO,aACTL,GAAgB,EAAAI,EAAAC,QAAO,YAGzB,IAAK,IAAIZ,KAAMO,EACb9B,EAAauB,GACVa,MAAKC,GAASvB,EAAgBuB,KAC9BC,OAAMC,GAASC,QAAQC,IAAIF,I,CAI3B,SAASG,KACV,EAAAR,EAAAC,QAAO,WACTJ,GAAc,EAAAG,EAAAC,QAAO,UAGvB,IAAK,IAAIZ,KAAMQ,EACb/B,EAAauB,GACVa,MAAKC,GAASvB,EAAgBuB,KAC9BC,OAAMC,GAASC,QAAQC,IAAIF,I,EHxClC,EAAA1C,EAAAgB,WAAU8B,WAAWC,iBAAiB,SAStC,YACE,EAAA/C,EAAAgB,WAAUF,cAAckC,UAAY,IACpC,EAAAhD,EAAAgB,WAAU8B,WAAWG,UAAW,GAChC,EAAAjD,EAAAgB,WAAUkC,SAASD,UAAW,EAC9Bb,G,KAZF,EAAApC,EAAAgB,WAAUkC,SAASH,iBAAiB,SAepC,YACE,EAAA/C,EAAAgB,WAAUF,cAAckC,UAAY,IACpC,EAAAhD,EAAAgB,WAAUkC,SAASD,UAAW,GAC9B,EAAAjD,EAAAgB,WAAU8B,WAAWG,UAAW,EAChCJ,G,IGrBK,YACD,EAAAR,EAAAC,QAAO,aACTL,GAAgB,EAAAI,EAAAC,QAAO,aAErB,EAAAD,EAAAC,QAAO,WACTJ,GAAc,EAAAG,EAAAC,QAAO,UAGvBH,EAAa,IAAIF,KAAkBC,GAEnC,IAAK,IAAIR,KAAMS,EACbhC,EAAauB,GACVa,MAAKC,GAASvB,EAAgBuB,KAC9BC,OAAMC,GAASC,QAAQC,IAAIF,I,CHTlC,GAE0B,GGYjBP,EAAWgB,QHXlBR,QAAQC,IAAI,gB","sources":["src/js/mylibrary.js","src/js/myLibraryFunction.js","src/js/get-movie-by-id.js","src/js/mylibrary-render.js","src/js/mylibrary-buttons-function.js"],"sourcesContent":["import './spinner';\nimport './myLibraryFunction';\n// import './films';\n// import './apiFilms/apiSearch';\n// import './modal';\n// import './pagination';\nimport './modal-team';\n// import './login';\nimport './theme';\n","import getRefs from './refs';\nimport { getFullListCount } from './mylibrary-buttons-function';\n\nimport {\n  inWatchedQueueLocalStorage,\n  inWatchedLocalStorage,\n  inQueueLocalStorage,\n} from './mylibrary-buttons-function';\n\ngetRefs().watchedBtn.addEventListener('click', onWatchedBtn);\ngetRefs().queueBtn.addEventListener('click', onQueueBtn);\n\ninWatchedQueueLocalStorage();\n\nif (getFullListCount() == 0) {\n  console.log('НЕТУ ФИЛЬМОВ');\n}\n\nfunction onWatchedBtn() {\n  getRefs().myLibraryList.innerHTML = '';\n  getRefs().watchedBtn.disabled = true;\n  getRefs().queueBtn.disabled = false;\n  inWatchedLocalStorage();\n}\n\nfunction onQueueBtn() {\n  getRefs().myLibraryList.innerHTML = '';\n  getRefs().queueBtn.disabled = true;\n  getRefs().watchedBtn.disabled = false;\n  inQueueLocalStorage();\n}\n","import { BASE_URL } from './apiFilms/baseUrl';\nimport { API_KEY } from './apiFilms/apiKey';\n\nexport async function getMovieById(value) {\n    const params = new URLSearchParams({ api_key: API_KEY });\n    const response = await fetch(`${BASE_URL}/movie/${value}?${params}`);\n    const moviesData = await response.json();\n    return moviesData;\n};","import getRefs from './refs';\nconst { myLibraryList } = getRefs();\n\nexport function renderMyLibrary({\n  genres,\n  original_title,\n  overview,\n  popularity,\n  poster_path,\n  title,\n  vote_average,\n  vote_count,\n  id,\n}) {\n  const markup = `\n    <li class=\"film-gallery__item\">\n    <img class=\"film-gallery__image\" src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"Movie poster\" loading=\"lazy\">\n    <div class=\"film-gallery__info\">\n        <p class=\"film-gallery__title\">${original_title}</p>\n        <p class=\"film-gallery__text\">${genres\n          .map(genre => genre.name)\n          .join(', ')}</p>\n    </div>\n    </li>`;\n\n  myLibraryList.insertAdjacentHTML('afterbegin', markup);\n}\n","import { getMovieById } from './get-movie-by-id';\nimport { getKey } from './modal-button-localstorage';\nimport { renderMyLibrary } from './mylibrary-render';\n\nlet watchedIdList = [];\nlet queueIdList = [];\nlet fullIdList = [];\n\nexport function inWatchedQueueLocalStorage() {\n  if (getKey('watched')) {\n    watchedIdList = getKey('watched');\n  }\n  if (getKey('queue')) {\n    queueIdList = getKey('queue');\n  }\n\n  fullIdList = [...watchedIdList, ...queueIdList];\n\n  for (let id of fullIdList) {\n    getMovieById(id)\n      .then(movie => renderMyLibrary(movie))\n      .catch(error => console.log(error));\n  }\n}\n\nexport function getFullListCount() {\n  return fullIdList.length;\n}\n\nexport function inWatchedLocalStorage() {\n  if (getKey('watched')) {\n    watchedIdList = getKey('watched');\n  }\n\n  for (let id of watchedIdList) {\n    getMovieById(id)\n      .then(movie => renderMyLibrary(movie))\n      .catch(error => console.log(error));\n  }\n}\n\nexport function inQueueLocalStorage() {\n  if (getKey('queue')) {\n    queueIdList = getKey('queue');\n  }\n\n  for (let id of queueIdList) {\n    getMovieById(id)\n      .then(movie => renderMyLibrary(movie))\n      .catch(error => console.log(error));\n  }\n}\n"],"names":["parcelRequire","$krGWQ","$6lwzw","async","$6c43ac829a28d3dc$export$e05fa48ccab9af8","value","params","URLSearchParams","api_key","$2oVyW","API_KEY","response","fetch","BASE_URL","json","myLibraryList","$3efa0af2152ab69b$var$myLibraryList","default","$3efa0af2152ab69b$export$cf5ad1ea4042ab8d","genres","original_title","overview","popularity","poster_path","title","vote_average","vote_count","id","markup","map","genre","name","join","insertAdjacentHTML","$385dbd2b518766c5$var$watchedIdList","$385dbd2b518766c5$var$queueIdList","$385dbd2b518766c5$var$fullIdList","$385dbd2b518766c5$export$7bf0be80908f2793","$7xhh1","getKey","then","movie","catch","error","console","log","$385dbd2b518766c5$export$2106721ac255ead1","watchedBtn","addEventListener","innerHTML","disabled","queueBtn","length"],"version":3,"file":"myLibrary.6a55be50.js.map"}